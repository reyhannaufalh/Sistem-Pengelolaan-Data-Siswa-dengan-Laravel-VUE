{"ast":null,"code":"import { Store } from 'vuex';\nimport repository from \"../api/repository\";\nexport default new Store({\n  modules: {\n    auth: {\n      state: {\n        user: sessionStorage.user ? JSON.parse(sessionStorage.getItem('user')) : null\n      },\n      getters: {\n        user: state => state.user,\n        authenticated: state => state.user !== null\n      },\n      mutations: {\n        SET_USER(state, user) {\n          state.user = user;\n        }\n      },\n      actions: {\n        async login({\n          commit\n        }, user) {\n          await repository.createSession();\n          const {\n            data\n          } = await repository.login(user);\n          commit('SET_USER', data);\n          sessionStorage.user = JSON.stringify(data);\n        },\n        async logout({\n          commit\n        }) {\n          await repository.logout();\n          commit('SET_USER', null);\n          sessionStorage.removeItem('user');\n        }\n      }\n    }\n  }\n});","map":{"version":3,"names":["Store","repository","modules","auth","state","user","sessionStorage","JSON","parse","getItem","getters","authenticated","mutations","SET_USER","actions","login","commit","createSession","data","stringify","logout","removeItem"],"sources":["D:/Laravel/FE Fauzi/frontend-uas-2022/frontend/src/store/index.js"],"sourcesContent":["import {Store} from 'vuex'\r\nimport repository from \"../api/repository\";\r\n\r\nexport default new Store({\r\n  modules: {\r\n    auth: {\r\n      state: {\r\n        user: sessionStorage.user ? JSON.parse(sessionStorage.getItem('user')) : null\r\n      },\r\n\r\n      getters: {\r\n        user: state => state.user,\r\n        authenticated: state => state.user !== null,\r\n      },\r\n\r\n      mutations: {\r\n        SET_USER(state, user) {\r\n          state.user = user;\r\n        }\r\n      },\r\n\r\n      actions: {\r\n        async login({ commit }, user) {\r\n          await repository.createSession();\r\n          const { data } = await repository.login(user);\r\n          commit('SET_USER', data)\r\n\r\n          sessionStorage.user = JSON.stringify(data);\r\n        },\r\n\r\n        async logout({ commit }) {\r\n          await repository.logout();\r\n          commit('SET_USER', null);\r\n          sessionStorage.removeItem('user');\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n"],"mappings":"AAAA,SAAQA,KAAK,QAAO,MAAM;AAC1B,OAAOC,UAAU,MAAM,mBAAmB;AAE1C,eAAe,IAAID,KAAK,CAAC;EACvBE,OAAO,EAAE;IACPC,IAAI,EAAE;MACJC,KAAK,EAAE;QACLC,IAAI,EAAEC,cAAc,CAACD,IAAI,GAAGE,IAAI,CAACC,KAAK,CAACF,cAAc,CAACG,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG;MAC3E,CAAC;MAEDC,OAAO,EAAE;QACPL,IAAI,EAAED,KAAK,IAAIA,KAAK,CAACC,IAAI;QACzBM,aAAa,EAAEP,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAK;MACzC,CAAC;MAEDO,SAAS,EAAE;QACTC,QAAQ,CAACT,KAAK,EAAEC,IAAI,EAAE;UACpBD,KAAK,CAACC,IAAI,GAAGA,IAAI;QACnB;MACF,CAAC;MAEDS,OAAO,EAAE;QACP,MAAMC,KAAK,CAAC;UAAEC;QAAO,CAAC,EAAEX,IAAI,EAAE;UAC5B,MAAMJ,UAAU,CAACgB,aAAa,EAAE;UAChC,MAAM;YAAEC;UAAK,CAAC,GAAG,MAAMjB,UAAU,CAACc,KAAK,CAACV,IAAI,CAAC;UAC7CW,MAAM,CAAC,UAAU,EAAEE,IAAI,CAAC;UAExBZ,cAAc,CAACD,IAAI,GAAGE,IAAI,CAACY,SAAS,CAACD,IAAI,CAAC;QAC5C,CAAC;QAED,MAAME,MAAM,CAAC;UAAEJ;QAAO,CAAC,EAAE;UACvB,MAAMf,UAAU,CAACmB,MAAM,EAAE;UACzBJ,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;UACxBV,cAAc,CAACe,UAAU,CAAC,MAAM,CAAC;QACnC;MACF;IACF;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}